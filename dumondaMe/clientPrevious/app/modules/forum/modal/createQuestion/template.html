<md-dialog id="create-question" aria-label="Create Question">
    <form name="createQuestionForm" ng-cloak>
        <div class="md-title ely-dialog-title">Erstelle eine neue Fragestellung</div>
        <md-dialog-content>
            <div class="md-dialog-content ely-dialog-content">
                <div layout="row">
                    <div flex="50">
                        <md-select ng-model="ctrl.selectedTopics" multiple="true" placeholder="Thema" required class="ely-select-topic"
                                   ng-change="ctrl.changed()">
                            <md-option ng-value="topic" ng-repeat="topic in ctrl.topics">{{ topic.description }}</md-option>
                        </md-select>
                    </div>
                    <div flex="50" flex-offset="5">
                        <md-select ng-model="ctrl.selectedLanguage" multiple="false" placeholder="Sprache" required class="ely-select-topic"
                                   ng-change="ctrl.changed()">
                            <md-option ng-value="language" ng-repeat="language in ctrl.languages">{{ language.description }}</md-option>
                        </md-select>
                    </div>
                </div>
                <md-input-container class="ely-input-container">
                    <label>Frage</label>
                    <textarea name="questionText" class="question-input" ng-model="ctrl.questionText" required md-maxlength="160"
                              ng-disabled="ctrl.uploadStarted" ng-change="ctrl.changed()"></textarea>
                    <div ng-messages="createQuestionForm.questionText.$error" ng-show="createQuestionForm.questionText.$dirty">
                        <div ng-message="required">Wird ben√∂tigt!</div>
                        <div ng-message="md-maxlength">Text ist zu lang</div>
                    </div>
                </md-input-container>
            </div>
        </md-dialog-content>
        <md-dialog-actions>
            <md-button aria-label="abort" ng-click="ctrl.cancel()" ng-disabled="ctrl.uploadStarted"
                       target="_blank" md-autofocus>Abbrechen</md-button>
            <md-button class="md-raised md-primary upload-button" aria-label="post"
                       ng-disabled="!ctrl.sendAllowed || ctrl.uploadStarted"
                       ng-click="ctrl.uploadQuestion()">
                Erstellen
            </md-button>
        </md-dialog-actions>
    </form>
    <md-progress-linear ng-if="ctrl.uploadStarted" md-mode="indeterminate"></md-progress-linear>
</md-dialog>