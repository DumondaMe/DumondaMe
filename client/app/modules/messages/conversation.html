<div id="content-messages">
    <div ng-controller="ConversationActionsCtrl">
        <div id="centerCol">
            <div id="inner-centerCol">
                <div class="add-message" ng-style="settings.textInputWrapperStyle">
                    <div class="input-group">
                    <textarea class="form-control" placeholder="Nachricht"
                              ng-style="settings.textInputStyle"
                              ng-keyup="settings.checkHeightOfInput($event)"
                              ng-maxlength="1000"
                              ng-model="settings.newMessage"></textarea>
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button" ng-click="sendMessage()"
                                ng-style="settings.textInputStyle"
                                ng-class="{'disabled': settings.newMessage.trim() === ''}">Senden
                        </button>
                    </span>
                    </div>
                </div>
                <div ng-repeat="message in settings.thread.messages" class="message-view">
                    <div class="message-inner-view">
                        <div class="message-view-image">
                            <img ng-src="{{message.profileUrl}}" class="img-rounded">
                        </div>
                        <div class="message-view-content">
                            <div class="message-view-title">
                                <div class="message-view-name">
                                    {{message.name}}
                                </div>
                                <div class="message-view-timestamp">
                                    {{getFormattedDate(message.timestamp)}}
                                </div>
                            </div>
                            <div class="message-view-text">{{message.text}}</div>
                        </div>
                    </div>
                </div>
                <div ng-show="settings.thread.numberOfMessages > settings.itemsPerPage"
                     class="pagination">
                    <ely-pagination-next-previous total-items="settings.thread.numberOfMessages"
                                                  items-per-page="{{settings.itemsPerPage}}"
                                                  get-pagination-set="settings.getThread"></ely-pagination-next-previous>
                </div>
            </div>
        </div>
        <div id="leftCol">
            <div id="inner-leftCol">
                <div id="thread-description">{{settings.thread.threadDescription}}</div>
                <ul id="message-index" class="list-group">
                    <div ng-repeat="thread in settings.threads.threads"
                         ng-if="thread.threadId !== settings.selectedThreadId">
                        <li class="list-group-item"
                            ng-click="settings.openThread(thread.threadId, thread.isGroupThread)">
                            <span class="badge" ng-if="thread.hasNotReadMessages">{{thread.numberOfUnreadMessages}}</span>

                            <div class="message-unread-count" data-trigger="hover" data-delay="1000"
                                 data-title="{{thread.description}}"
                                 bs-tooltip>{{thread.description}}
                            </div>
                        </li>
                    </div>
                </ul>
            </div>
        </div>
    </div>
    <div id="leftColNav" ng-include="'app/modules/messages/leftNavCol.html'"></div>
</div>