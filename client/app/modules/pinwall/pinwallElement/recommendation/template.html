<md-card class="card-recommendation">
    <md-card-header class="header">
        <md-card-avatar ng-click="ctrl.openUserDetail()">
            <img class="md-user-avatar" ng-src="{{ctrl.element.profileUrl}}"/>
        </md-card-avatar>
        <md-card-header-text ng-click="ctrl.openUserDetail()">
            <span class="md-title user-name">{{ctrl.element.name}}</span>
            <span class="md-subhead">{{ctrl.getFormattedDate(ctrl.element.created, 'LLL')}}</span>
        </md-card-header-text>
    </md-card-header>
    <div class="category-description">
        <md-icon md-svg-icon="cardActions:book" aria-label="Book" class="category-icon" ng-hide="ctrl.element.label !== 'Book'"></md-icon>
        <md-icon md-svg-icon="cardActions:video" aria-label="Video" class="category-icon" ng-hide="ctrl.element.label !== 'Youtube'"></md-icon>
        <md-icon md-svg-icon="cardActions:menuRight" aria-label="Divider" class="category-icon"></md-icon>
        <div class="category-type" ng-class="ctrl.getCategoryClass(category)"
             ng-repeat="category in ctrl.element.category">{{ctrl.getCategory(category)}}
        </div>
    </div>
    <md-card-content ng-click="ctrl.openPageDetail()">
        <div class="content-container">
            <div class="page-title">{{ctrl.element.title}}</div>
            <div class="description">{{ctrl.element.description}}</div>
            <div class="forename">{{ctrl.element.forename}}'s Bewertung</div>
            <ely-star-rating class="page-rating" is-readonly="true" is-x-small="true"
                             number-of-selected-stars-readonly="ctrl.element.rating"></ely-star-rating>
            <div class="recommendation-container" ng-if="ctrl.element.numberOfSamePinwallData > 0">
                <div ng-if="ctrl.element.numberOfSamePinwallData > 2 && ctrl.element.userHasRecommended
                    && !ctrl.element.thisRecommendationByUser">
                    <span class="number">Du</span> und <span class="number">{{ctrl.element.numberOfSamePinwallData - 2}}</span>
                    <ng-pluralize count="ctrl.element.numberOfSamePinwallData - 2"
                                  when="{'1': ' weitere Person der Du folgst hat diese Seite bewertet',
                                  'other': ' weitere Personen denen Du folgst haben diese Seite bewertet'}"></ng-pluralize>
                </div>
                <div ng-if="ctrl.element.numberOfSamePinwallData > 1 && !ctrl.element.userHasRecommended">
                    <span class="number">{{ctrl.element.numberOfSamePinwallData - 1}}</span>
                    <ng-pluralize count="ctrl.element.numberOfSamePinwallData - 1"
                                  when="{'1': ' weitere Person der Du folgst hat diese Seite bewertet',
                                  'other': ' weitere Personen denen Du folgst haben diese Seite bewertet'}"></ng-pluralize>
                </div>
                <div ng-if="ctrl.element.numberOfSamePinwallData === 2 && ctrl.element.userHasRecommended && !ctrl.element.thisRecommendationByUser">
                    <span class="number">Du</span> hast diese Seite auch bewertet
                </div>
            </div>
        </div>
    </md-card-content>
</md-card>
